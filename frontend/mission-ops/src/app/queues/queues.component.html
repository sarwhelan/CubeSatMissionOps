<div class = "row justify-content-center">
    <div class="btn-group" role="group">
        <button class = "btn btn-outline-success" (click) = "promptAddQueuedTelecommand()">Add Telecommand to Queue</button>
        <button class = "btn btn-outline-success" (click) = "promptAddQueuedTelecommandBatch()">Add Telecommand Batch to Queue</button>
        <button class="btn btn-outline-success" (click)="promptAddPass()">Add New Pass</button>
    </div>
</div>
<br />
<div class = "row">
  <div class = "col">
    <ngb-tabset activeId="ngb-tab-1">
      <ngb-tab title="Past">
        <ng-template ngbTabContent>
          <ul class="list-group">
            <ng-container *ngIf = "pastPasses && pastPasses.length > 0; else noPastPasses">
              <li *ngFor="let pass of pastPasses"
              (click)="onSelect(pass)"
              [class.active]="pass === selectedPass"
              class="list-group-item">
                <b>Pass {{pass.passID}}</b> Estimated Pass Time: {{getFormatedDate(pass.estimatedPassDateTime)}}
              </li>
            </ng-container>
            </ul> 
        </ng-template>
      </ngb-tab>
      <ngb-tab title="Future">
          <ng-template ngbTabContent>
            <ul class="list-group">
              <ng-container *ngIf = "futurePasses && futurePasses.length > 0; else noFuturePasses">

              </ng-container>
              <li *ngFor="let pass of futurePasses"
                (click)="onSelect(pass)"
                [class.active]="pass === selectedPass"
                class="list-group-item">
                  <b>Pass {{pass.passID}}</b> Estimated Pass Time: {{getFormatedDate(pass.estimatedPassDateTime)}}
                </li>
              </ul> 
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
  </div>
  <div class = "col">
    <ngb-tabset *ngIf="selectedPass">
      <ngb-tab title="Transmission Queue">
        <ng-template ngbTabContent>
          <app-transmission-queue [selectedPass] = "selectedPass" [telecommands] = "telecommands"></app-transmission-queue>
        </ng-template>
      </ngb-tab>
      <ngb-tab title="Execution Queue">
        <ng-template ngbTabContent>
            <app-execution-queue [selectedPass] = "selectedPass" [telecommands] = "telecommands"></app-execution-queue>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
</div>

<ng-template #noPastPasses>
  <ng-container *ngIf = "pastPasses && pastPasses.length == 0; else spinner">
    <br/>
    <p class = "font-weight-bolder">No past passes are available to view.</p>
  </ng-container>
</ng-template>

<ng-template #noFuturePasses>
  <ng-container *ngIf = "futurePasses && futurePasses.length == 0; else spinner">
    <br/>
    <p class = "font-weight-bolder">No future passes are available to view.</p>
  </ng-container>
</ng-template>

<ng-template #spinner>
  <div class = "text-center">
    <div class = "spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>